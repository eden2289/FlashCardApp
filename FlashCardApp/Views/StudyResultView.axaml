<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:FlashCardApp.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="FlashCardApp.Views.StudyResultView"
             x:DataType="vm:StudyResultViewModel"
             Background="#121212">
    
    <Design.DataContext>
        <vm:StudyResultViewModel />
    </Design.DataContext>

    <Grid RowDefinitions="*,Auto">
        
        <!-- Main Content -->
        <StackPanel Grid.Row="0" 
                    VerticalAlignment="Center" 
                    HorizontalAlignment="Center"
                    Spacing="32">
            
            <!-- Celebration Icon -->
            <TextBlock Text="ðŸŽ‰"
                       FontSize="80"
                       HorizontalAlignment="Center"/>
            
            <!-- Title -->
            <TextBlock Text="å­¸ç¿’å®Œæˆï¼"
                       FontSize="36"
                       FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"/>
            
            <!-- Deck Name -->
            <TextBlock Text="{Binding Deck.Name}"
                       FontSize="20"
                       Foreground="#A0A0A0"
                       HorizontalAlignment="Center"/>
            
            <!-- Stats Container -->
            <Border Background="#1E1E1E"
                    CornerRadius="16"
                    Padding="40,30"
                    MinWidth="400">
                <Grid RowDefinitions="Auto,Auto,Auto,Auto" 
                      ColumnDefinitions="*,Auto"
                      RowSpacing="16">
                    
                    <!-- Total Cards -->
                    <TextBlock Grid.Row="0" Grid.Column="0"
                               Text="ç¸½å¡ç‰‡æ•¸"
                               FontSize="16"
                               Foreground="#A0A0A0"
                               VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="0" Grid.Column="1"
                               Text="{Binding Stats.TotalCards}"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="White"
                               HorizontalAlignment="Right"/>
                    
                    <!-- Rounds -->
                    <TextBlock Grid.Row="1" Grid.Column="0"
                               Text="å­¸ç¿’è¼ªæ•¸"
                               FontSize="16"
                               Foreground="#A0A0A0"
                               VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="1" Grid.Column="1"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="White"
                               HorizontalAlignment="Right">
                        <Run Text="{Binding Stats.TotalRounds}"/>
                        <Run Text="è¼ª"/>
                    </TextBlock>
                    
                    <!-- Duration -->
                    <TextBlock Grid.Row="2" Grid.Column="0"
                               Text="å­¸ç¿’æ™‚é–“"
                               FontSize="16"
                               Foreground="#A0A0A0"
                               VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="2" Grid.Column="1"
                               Text="{Binding DurationText}"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="White"
                               HorizontalAlignment="Right"/>
                    
                    <!-- First Round Accuracy -->
                    <TextBlock Grid.Row="3" Grid.Column="0"
                               Text="é¦–è¼ªæ­£ç¢ºçŽ‡"
                               FontSize="16"
                               Foreground="#A0A0A0"
                               VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="3" Grid.Column="1"
                               Text="{Binding AccuracyText}"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="#4CAF50"
                               HorizontalAlignment="Right"/>
                </Grid>
            </Border>
        </StackPanel>
        
        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="1" 
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Spacing="16"
                    Margin="0,0,0,40">
            
            <!-- Home Button -->
            <Button Command="{Binding HomeCommand}"
                    Padding="32,16"
                    Background="Transparent"
                    BorderBrush="#666666"
                    BorderThickness="1"
                    CornerRadius="12"
                    Cursor="Hand">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="ðŸ " FontSize="18"/>
                    <TextBlock Text="è¿”å›žé¦–é " 
                               FontSize="16" 
                               Foreground="#A0A0A0"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            
            <!-- Restart Button -->
            <Button Command="{Binding RestartCommand}"
                    Padding="32,16"
                    Background="#6200EE"
                    BorderThickness="0"
                    CornerRadius="12"
                    Cursor="Hand">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="ðŸ”„" FontSize="18"/>
                    <TextBlock Text="å†å­¸ä¸€æ¬¡" 
                               FontSize="16" 
                               FontWeight="SemiBold"
                               Foreground="White"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</UserControl>
